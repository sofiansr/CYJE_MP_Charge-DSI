/*
    - Nav sticky en haut, grille 3 zones
    - Outils de recherche/filtre lisibles
    - Tableau scrollable avec thead sticky pour garder les intitulés de colonnes visibles
    - Badges/Chips pour mettre en évidence statut/type/chaleur
    - Pagination centrée
    - Footer multi-colonnes responsive
    Notes:
    - Variables CSS (:root) = palette, radius, ombre
    - Sticky thead fonctionne grâce à .table-wrapper { overflow:auto }
    - Liens mailto: dans le tableau sont accentués
*/

:root {
    /* Palette et tokens de design réutilisables */
    --bg-light: #ffffff;
    --bg-accent: #0d47a1;
    --text-main: #1a1f29;
    --text-muted: #5a6270;
    --border: #e1e5eb;
    --focus: #2563eb;
    --radius: 10px;
    --shadow: 0 4px 16px rgba(0,0,0,0.08);
}

html, body { height: 100%; }
body, html, input, button, label, h1, h2, h3, p, .hint, select {
    font-family: "Barlow Semi Condensed", sans-serif;
}

/* Modèle de boîte moderne: padding/border inclus dans width/height */
* { box-sizing: border-box; }
body {
    margin: 0;
    background: #f5f7fa;
    color: var(--text-main);
    -webkit-font-smoothing: antialiased;
}



/* Nav */
.app-nav {
    /* Barre d'application collée en haut lors du scroll */
    background: #fff;
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
}
.nav-inner {
    /* Grille en 3 colonnes (gauche/centre/droite) */
    max-width: 1200px;
    margin: 0 auto;
    padding: .75rem 1rem;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 1rem;
}
.nav-left {
    display: flex;
    align-items: center;
    gap: .5rem;
}

.nav-logo {
    height: 40px;
    width: auto;
    display: block;
}

.nav-center {
    display: flex;
    justify-content: center;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 1.25rem;
    margin: 0;
    padding: 0;
}
.nav-links a {
    color: var(--text-main);
    text-decoration: none;
    font-weight: 600;
}
.nav-links a.active {
    color: var(--bg-accent);
}

.nav-right {
    display: flex;
    justify-content: flex-end;
}



/* Page container */
.page {
    /* max-width: 1200px;*/
    margin: 0 auto;
    padding: 1.25rem;
}
.page h1 {
    margin: 1rem 0 1rem;
    font-size: 2rem;
    font-weight: 700;
}

/* Toolbar */
.toolbar {
    /* Colonnes: recherche (large) + bloc filtre + bloc boutons */
    display: grid;
    grid-template-columns: minmax(200px, 1fr) auto auto;
    gap: .75rem;
    align-items: center;
    margin-bottom: 1rem;
}
.search-input {
    padding: .8rem 1rem;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 1rem;
    background: #fff;
}
.select, .input, .btn {
    padding: .7rem .95rem;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: #fff;
    font-size: .95rem;
}
.btn {
    cursor: pointer;
    font-weight: 700;
}
.btn-primary {
    background: var(--bg-accent);
    color: #fff;
    border: none;
    box-shadow: var(--shadow);
}
.btn-primary:hover {
    filter: brightness(.95);
}
.btn-ghost {
    background: #fff;
}
/* Bouton suppression
   Utilisé par le bouton "Supprimer ce prospect" dans le panneau Détails */
.btn-danger {
    background: #dc2626;
    color: #fff;
    border: none;
    box-shadow: var(--shadow);
}
.btn-danger:hover { filter: brightness(.95); }

.card {
    /* Panneaux blancs avec bord/ombre pour séparer les zones */
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
}



/* Table */
/* Conteneur scrollable pour activer thead sticky sans scroller toute la page */
.table-wrapper {
    overflow: auto;
}
.table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
}
/* En-têtes collants: restent visibles pendant le scroll */
.table thead th {
    position: sticky; top: 0; background: #f3f5f8; text-align: left; font-size: .9rem; color: var(--text-muted);
    padding: .85rem .75rem; border-bottom: 1px solid var(--border);
}
.table tbody td {
    padding: .8rem .75rem;
    border-bottom: 1px solid #f0f2f6;
}
/* Zébrage pour améliorer la lisibilité des lignes */
.table tbody tr:nth-child(even) {
    background: #fafbfc;
}



/* Pastille de statut (neutre/secondaire) */
.status {
    display: inline-block; padding: .25rem .6rem; border-radius: 999px; font-weight: 700; font-size: .8rem; background: #eef2ff; color: #4338ca;
}
.badge {
    display: inline-block;
    padding: .2rem .5rem;
    border-radius: .5rem;
    background: #eaf6ff;
    color: #0369a1;
    font-weight: 600;
    font-size: .8rem;
}
/* Chips (bulles) génériques */
.chip {
    display: inline-block;
    padding: .25rem .6rem;
    border-radius: 999px;
    font-weight: 700;
    font-size: .8rem;
    background: #eef2ff;
    color: #4338ca;
    white-space: nowrap;
}/* Variantes pour la chaleur */
.chip-heat-froid { /* froid = bleu pâle */
    background: #e0f2fe;
    color: #075985;
} 
.chip-heat-tiede { /* tiède orange pâle */
    background: #fff7ed;
    color: #9a3412;
}
.chip-heat-chaud { /* chaud = rouge pâle */
    background: #fee2e2;
    color: #991b1b;
}



/* Panneau latéral de détails (overlay) */
.detail-panel {
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: 380px;
    background: #eceff1; /* gris clair demandé */
    box-shadow: -4px 0 16px rgba(0,0,0,0.15);
    border-left: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform .25s ease;
    z-index: 110; /* au-dessus de la nav (100) */
    padding: 0;
    overflow-x: hidden; /* évite tout débordement horizontal du contenu */
}
.detail-panel.visible {
    transform: translateX(0);
}.detail-panel-header {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: .5rem;
    flex-wrap: nowrap;
    padding: 1rem 1rem .75rem;
    border-bottom: 1px solid var(--border);
}
.detail-panel-title {
    margin: 0;
    font-size: 1.15rem;
    font-weight: 700;
    flex: 1 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.detail-close {
    background: #fff;
    border: 1px solid var(--border);
    width: 32px;
    height: 32px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: 800;
    color: #334155;
    box-shadow: var(--shadow);
    cursor: pointer;
}
.detail-close:hover {
    background: #f5f7fa;
    color: var(--bg-accent);
}
.detail-panel-body {
    padding: .75rem 1rem 1.5rem;
    overflow-y: auto;
}
.detail-list {
    margin: 0;
    padding: 0;
}
.detail-list dt {
    font-weight: 700;
    font-size: .85rem;
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-top: .9rem;
    color: #374151;
}
.detail-list dd {
    margin: .3rem 0 .2rem;
    font-size: .9rem;
    line-height: 1.35;
    word-break: break-word;
}
.detail-list a {
    color: var(--bg-accent);
    text-decoration: none;
}
.detail-list a:hover {
    text-decoration: underline;
}
/* Backdrop quand panneau ouvert */
body.detail-panel-open::after {
    content:'';
    position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:105;
}

/* Formulaire d'ajout dans le panneau */
/*
    Bloc visuel pour l'Ajout de prospect
    - .form-grid : carte blanche, champs du prospect empilés verticalement
    - .form-section + .contacts-list/.contact-row : gestion de 0..n contacts
    - Objectif: lisible dans un panneau étroit (~380px) sans scroll horizontal
*/
.form-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: .6rem;
    margin-bottom: .75rem;
    padding: .75rem;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius);
}
.form-grid label {
    display: flex;
    flex-direction: column;
    gap: .35rem;
    font-weight: 600;
    font-size: .9rem;
    color: #374151;
}
.form-grid .input,
.form-grid .select { width: 100%; }
.form-section h3 { margin:.75rem 0 .5rem; font-size:1rem; font-weight:700; }
.contacts-list { display:flex; flex-direction:column; gap:.65rem; margin-bottom:.5rem; }
/* Pour une présentation verticale, on masque l'en-tête colonnes */
.contacts-head { display:none; }
/* Les champs d'un contact empilés verticalement pour éviter le débordement */
.contact-row { display:grid; grid-template-columns: 1fr; gap:.5rem; align-items:start; padding:.5rem; background:#fff; border:1px solid var(--border); border-radius: var(--radius); }
.contact-row .input { width: 100%; }
.contact-row .remove-contact { min-width: 2.25rem; justify-self:end; }

@media (max-width: 700px) {
    .form-grid { grid-template-columns: 1fr; }
}



/* Pagination */
.pagination {
    display: flex;
    align-items: center;
    gap: .5rem;
    padding: .8rem;
    justify-content: center;
}
.pagination .btn {
    min-width: 2.5rem;
}
.page-info {
    color: var(--text-muted);
    font-weight: 600;
    margin: 0 .5rem;
}



/* Footer (multi-colonnes responsive) */
.site-footer {
    background: #fff;
    border-top: 1px solid var(--border);
    margin-top: 2rem;
}
.footer-top {
    padding: 2rem 1rem 1rem;
}
.footer-bottom {
    padding: 1rem 1rem;
    border-top: 1px solid var(--border);
}
/* Conteneur flexible en colonnes, se replie en pile sur petits écrans */
.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    gap: 2rem 3rem;
    align-items: flex-start;
}
.footer-bottom .footer-container {
    justify-content: center;
    flex-wrap: nowrap;
    gap: 0;
    align-items: center;
    text-align: center;
}
.footer-col {
    flex: 1 1 220px;
    min-width: 220px;
}
.footer-brand {
    flex: 1 1 260px;
    min-width: 260px;
}
.footer-logo {
    max-width: 260px;
    width: 100%;
    height: auto;
    display: block;
}
.footer-title {
    margin: .25rem 0 1rem;
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: .5px;
    color: #eda02c;
    font-weight: 700;
}
.footer-links {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: .4rem;
}
.footer-links a {
    color: var(--text-main);
    text-decoration: none;
}
.footer-links a:hover {
    color: var(--bg-accent);
    text-decoration: underline;
}
.copyright {
    font-size: .85rem;
    color: var(--text-muted);
    text-align: center;
}



/* Liens emails dans tableau */
/* Accent sur mailto: pour signaler l’interactivité */
tbody a[href^="mailto:"] {
    color: var(--bg-accent);
    text-decoration: none;
    font-weight: 600;
}
tbody a[href^="mailto:"]:hover {
    text-decoration: underline;
}

@media (max-width: 700px) {
    /* Une seule colonne pour toutes les sections du footer */
    .footer-col, .footer-brand { flex: 1 1 100%; min-width: 0; }
}

@media (max-width: 900px) {
    .nav-inner { grid-template-columns: auto 1fr auto; }
    .nav-links { gap: .75rem; }
    /* La toolbar passe en pile (1 colonne) */
    .toolbar { grid-template-columns: 1fr; }
}